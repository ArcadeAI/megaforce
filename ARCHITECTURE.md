# Megaforce

Megaforce is a multi-user application that lets each user create multiple personas and generate content using the style of each persona.

# Main components

## Sources

Sources are existing pieces of content that can be an URL or a piece of text or file (PDFs only for now). A specific source may be linked to a specific persona, which means that 
persona generated the content in that source, and it can be used to infer the writing/speaking style of that persona. A source may be linked to more than one persona at once, or it may
not be linked to a persona at all. In fact, most sources won't be linked to a persona.

In most cases, a source is some publicly avilable piece of content that a persona wants to write about.

## Project

A project is composed of

- A collection of sources that is used as a reference. This is the content that one or more personas will write about.
- For each persona, we get:
    - Instructions: Plain text or markdown that indicates how this persona wants to steer the new content written about the collection of sources at hand
    - Outputs: A collection of desired output types for this persona. This may be things like "A twitter thread", "A script for a youtube video", "A blog post", "A LinkedIn post", etc.
    - Each output can be configured with the number of candidates to generate, and each type of output will have some configurable options, such as the number of words, the number of tweets in a thread, etc.

Once a candidate is generated the user may:
- Approve the candidate for publication, in which case it is scheduled and posted on the specified persona's social account at the configured time
- Manualy edit and schedule: This is similar to an approval, but the difference between the original candidate and the edited version is kept to help the model improve its generation over time.
- Reject with feedback: The candidate is rejected, and the feedback is used to generate a new candidate (regeneration is optional)
- Reject without feedback: The candidate is rejected and the user can ask for a new candidate written from scratch (regeneration optional)
- Any rejection will be stored to help improve the agent overtime
- At any point in time the user may request a new candidate

## Personas

A persona is the "character" that writes content about sources.

It can have one or more "writing styles" associated to it.
Each writing style is used to help the writing agent create content candidates as if they were written by this persona.

It can be linked to many sources that were generated by the persona, and these sources will be used to infer the 
writing style of the persona, or update it when new sources are added to the persona

A persona can be connected to specific "channels" that are used to get sources generated by this persona (input), or to publish on behalf of the persona (output)

A persona may also have one or more "focus" entries. Each focus determines the purpose of what the persona is going to write in a specific project. For example, a persona may use a professional focus with specific topics
as the focus when writing work emails. It may use a different focus entry to write "shitposts" on their personal twitter account.


## Output types

These are configuration rules for different types of contents to be generated by a persona. Examples:

- LinkedIn post
    - Fields: Length, Tone, Include links (yes/no/as the first comment)

- Tweet:
    - Fields: Length, tone, include link (yes/no/as a reply)

- Tweet Thread:
    - Fields: Number of tweets, tone, include links in the first tweet (yes/no)

- Blog post
    - Fields: Length, max number of sections, structure


In this version, megaforce will not use images as sources or inject images in the generated candidates, but this will be a feature of an upcoming version


# Main flows

## Source ingestion

This will be mainly uploading files or adding one or more URL into the UI.

For each URL, the system should make a best attempt to classify it in known types (such as youtube videos, tweets, linkedin posts, etc) and route its ingestion to a specialized parser if it exists.

## Persona generation

This will be an option in the UI, that should guide the user on how to create a new persona effectively, and how to link existing sources to it. As well as how to add sources for ingestion that will be automatically linked to the selected persona

## Project configuration

When a project is created, the UI should guide the user to configure the sources to write about, and prompt them to configure the desired output for that project. These configurations shuold be "stiky" and/or the user should be able to save frequently used configurations

## Approval flow

Reading and approving/scheduling candidates should be easy to understand. As candidates are ready, the user should be able to glance at a specific list in the UI to "open" a candidate for approval/edit/rejection
